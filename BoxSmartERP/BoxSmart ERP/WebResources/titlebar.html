<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Added for responsiveness -->
    <title>BoxSmart ERP</title>
    <!-- Removed custom-scrollbars.css as it's not provided and may not be needed for just topbar -->
    <style>
        /* Define the color theme variables for consistency */
        :root {
            --primary-dark-bg: #2b2d30; /* Main dark background from previous theme */
            --accent-blue: #0078d7; /* The blue accent color from sidebar active state */
            --text-color-light: #ffffff; /* White text for dark backgrounds */
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden; /* Prevent scrollbars from the top bar */
            background-color: var(--primary-dark-bg); /* Ensure body matches top bar background */
        }

        #title-bar {
            height: 40px; /* Increased height for better visual balance and clickable area */
            background-color: var(--primary-dark-bg); /* Use our dark theme primary background */
            color: var(--text-color-light); /* Use our light text color */
            display: flex;
            align-items: center;
            justify-content: space-between;
            -webkit-app-region: drag; /* draggable area */
            padding: 0 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); /* Subtle shadow for depth */
        }

        .title-container {
            display: flex; /* Use flexbox to align icon and text */
            align-items: center;
            -webkit-app-region: no-drag; /* Exclude title area from drag region to allow text selection */
        }

        .app-icon {
            margin-right: 8px; /* Space between icon and text */
            width: 24px; /* Size of the SVG icon */
            height: 24px;
            fill: var(--text-color-light); /* Color the SVG icon white */
        }

            .app-icon svg {
                display: block; /* Remove extra space below SVG */
            }


        .title-text {
            font-size: 16px; /* Adjusted font size for better readability */
            font-weight: 600; /* Slightly bolder for prominence */
        }

        .window-controls {
            display: flex;
            -webkit-app-region: no-drag; /* buttons should not be draggable */
        }

            .window-controls button {
                background: none;
                border: none;
                color: var(--text-color-light); /* Use our light text color for buttons */
                width: 45px;
                height: 40px; /* Match title bar height for consistency */
                font-size: 18px; /* Slightly larger icons/symbols for better clickability */
                cursor: pointer;
                transition: background-color 0.2s, color 0.2s;
                border-radius: 3px; /* Subtle rounded corners for buttons */
                display: flex;
                justify-content: center;
                align-items: center;
            }

                .window-controls button:hover {
                    background-color: rgba(255, 255, 255, 0.1); /* Lighter hover effect */
                }

                .window-controls button.close-btn:hover {
                    background-color: #e81123; /* Red for close button on hover */
                    color: #ffffff;
                }

        /* Adjust icon/symbol sizes to be centered and readable */
        #minimize::before {
            content: "—";
        }

        #maximize::before {
            content: "□";
            font-size: 16px;
        }
        /* Slightly smaller square */
        #close::before {
            content: "✕";
        }
        /* Clearer 'X' */

    </style>
</head>
<body>
    <div id="title-bar">
        <div class="title-container">
            <span class="app-icon">
                <!-- SVG Icon for BoxSmart ERP - a simple box -->
                <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                <svg viewBox="0 0 24 24"
                     fill="currentColor"
                     version="1.1"
                     id="svg8"
                     sodipodi:docname="corp_logo_48_simplified.svg"
                     inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
                     width="24"
                     height="24"
                     xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                     xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                     xmlns:xlink="http://www.w3.org/1999/xlink"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:svg="http://www.w3.org/2000/svg">
                    <defs id="defs12">
                        <linearGradient inkscape:collect="always"
                                        id="linearGradient2827">
                            <stop style="stop-color:#28170b;stop-opacity:1"
                                  offset="0"
                                  id="stop2823" />
                            <stop style="stop-color:#f4e3d7;stop-opacity:1"
                                  offset="1"
                                  id="stop2825" />
                        </linearGradient>
                        <linearGradient inkscape:collect="always"
                                        id="linearGradient2821">
                            <stop style="stop-color:#28170b;stop-opacity:1"
                                  offset="0"
                                  id="stop2817" />
                            <stop style="stop-color:#f4e3d7;stop-opacity:1"
                                  offset="1"
                                  id="stop2819" />
                        </linearGradient>
                        <inkscape:perspective sodipodi:type="inkscape:persp3d"
                                              inkscape:vp_x="0.11636891 : 0.6273 : 1"
                                              inkscape:vp_y="0 : 41.666667 : 0"
                                              inkscape:vp_z="1.1163689 : 0.6273 : 1"
                                              inkscape:persp3d-origin="0.61636892 : 0.4606 : 1"
                                              id="perspective448" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="0.93414623,2.109776"
                                              up_right_point="14.841205,8.8843515"
                                              down_left_point="1.0387382,10.52356"
                                              down_right_point="14.954564,16.640816"
                                              id="path-effect661"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="7.072318,15.116886"
                                              up_right_point="13.711567,11.950285"
                                              down_left_point="7.082597,19.402538"
                                              down_right_point="13.642922,16.453686"
                                              id="path-effect549"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:perspective sodipodi:type="inkscape:persp3d"
                                              inkscape:vp_x="-189.11919 : 23.8441 : 1"
                                              inkscape:vp_y="0 : 10135.485 : 0"
                                              inkscape:vp_z="54.13245 : 23.8441 : 1"
                                              inkscape:persp3d-origin="-67.493362 : -16.6978 : 1"
                                              id="perspective276" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="-9.4770041,8.7499858"
                                              up_right_point="-0.26484945,4.9170229"
                                              down_left_point="-9.4770318,16.453069"
                                              down_right_point="-0.30321746,11.683303"
                                              id="path-effect3148"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="1.0268014,8.7917358"
                                              up_right_point="11.969659,13.512451"
                                              down_left_point="1.0527908,15.459143"
                                              down_right_point="12.014695,21.477922"
                                              id="path-effect3129"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="-12.891537,-2.3354826"
                                              up_right_point="-1.9696329,3.0516179"
                                              down_left_point="-12.884112,9.8123648"
                                              down_right_point="-1.8571227,14.778848"
                                              id="path-effect3110"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="envelope_deformation"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="-12.314603,2.2888659"
                                              up_right_point="8.7333961,2.2888659"
                                              down_left_point="-12.314603,10.976866"
                                              down_right_point="8.7333961,10.976866"
                                              id="path-effect3108"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="-12.314603,2.2888659"
                                              up_right_point="8.7333961,2.2888659"
                                              down_left_point="-12.314603,10.976866"
                                              down_right_point="8.7333961,10.976866"
                                              id="path-effect3106"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="0.93414623,2.109776"
                                              up_right_point="14.841205,8.8843515"
                                              down_left_point="1.0387382,10.52356"
                                              down_right_point="14.954564,16.640816"
                                              id="path-effect661-1"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="7.072318,15.116886"
                                              up_right_point="13.711567,11.950285"
                                              down_left_point="7.082597,19.402538"
                                              down_right_point="13.642922,16.453686"
                                              id="path-effect549-2"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <meshgradient inkscape:collect="always"
                                      id="meshgradient7533-3-3"
                                      gradientUnits="userSpaceOnUse"
                                      x="-8138.186"
                                      y="-4484.8677"
                                      gradientTransform="matrix(0.01531235,0,0,0.01850168,126.8018,85.376316)">
                            <meshrow id="meshrow7535-7-1">
                                <meshpatch id="meshpatch7537-8-9">
                                    <stop path="c 945.22,0 1890.44,0 2835.66,0"
                                          style="stop-color:#ffffff;stop-opacity:1"
                                          id="stop7539-5-5" />
                                    <stop path="c 0,778.906 0,1557.81 0,2336.72"
                                          style="stop-color:#ac9d93;stop-opacity:1"
                                          id="stop7541-3-3" />
                                    <stop path="c -945.22,0 -1890.44,0 -2835.66,0"
                                          style="stop-color:#ffffff;stop-opacity:1"
                                          id="stop7543-5-5" />
                                    <stop path="c 0,-778.906 0,-1557.81 0,-2336.72"
                                          style="stop-color:#ac9d93;stop-opacity:1"
                                          id="stop7545-6-6" />
                                </meshpatch>
                            </meshrow>
                        </meshgradient>
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="0.93414623,2.109776"
                                              up_right_point="14.841205,8.8843515"
                                              down_left_point="1.0387382,10.52356"
                                              down_right_point="14.954564,16.640816"
                                              id="path-effect661-1-0"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <inkscape:path-effect effect="perspective-envelope"
                                              up_left_point="7.072318,15.116886"
                                              up_right_point="13.711567,11.950285"
                                              down_left_point="7.082597,19.402538"
                                              down_right_point="13.642922,16.453686"
                                              id="path-effect549-2-9"
                                              is_visible="true"
                                              lpeversion="1"
                                              deform_type="perspective"
                                              horizontal_mirror="false"
                                              vertical_mirror="false"
                                              overflow_perspective="false" />
                        <linearGradient inkscape:collect="always"
                                        xlink:href="#linearGradient2821"
                                        id="linearGradient1740"
                                        gradientUnits="userSpaceOnUse"
                                        gradientTransform="matrix(1.0446782,0.47756247,-1.0446782,0.47756247,10620.718,4027.5609)"
                                        x1="-6670.9941"
                                        y1="762.47156"
                                        x2="-8516.5635"
                                        y2="-1083.098" />
                        <linearGradient inkscape:collect="always"
                                        xlink:href="#linearGradient2827"
                                        id="linearGradient1742"
                                        gradientUnits="userSpaceOnUse"
                                        x1="-8105.8169"
                                        y1="-683.14154"
                                        x2="-9588.4092"
                                        y2="-2165.7336" />
                    </defs>
                    <sodipodi:namedview id="namedview10"
                                        pagecolor="#ffffff"
                                        bordercolor="#000000"
                                        borderopacity="0.25"
                                        inkscape:showpageshadow="2"
                                        inkscape:pageopacity="0.0"
                                        inkscape:pagecheckerboard="0"
                                        inkscape:deskcolor="#d1d1d1"
                                        showgrid="false"
                                        inkscape:zoom="32"
                                        inkscape:cx="8.9375"
                                        inkscape:cy="14.015625"
                                        inkscape:window-width="1854"
                                        inkscape:window-height="1011"
                                        inkscape:window-x="66"
                                        inkscape:window-y="32"
                                        inkscape:window-maximized="1"
                                        inkscape:current-layer="svg8"
                                        showguides="true">
                        <sodipodi:guide position="-281.41667,138.5"
                                        orientation="1,0"
                                        id="guide1249"
                                        inkscape:locked="false" />
                    </sodipodi:namedview>
                    <script id="mesh_polyfill"
                            type="text/javascript">
                        !function () {
                            const t =& quot; http://www.w3.org/2000/svg&quot;,e=&quot;http://www.w3.org/1999/xlink&quot;,s=&quot;http://www.w3.org/1999/xhtml&quot;,r=2;if(document.createElementNS(t,&quot;meshgradient&quot;).x)return;const n=(t,e,s,r)=&gt;{let n=new x(.5*(e.x+s.x),.5*(e.y+s.y)),o=new x(.5*(t.x+e.x),.5*(t.y+e.y)),i=new x(.5*(s.x+r.x),.5*(s.y+r.y)),a=new x(.5*(n.x+o.x),.5*(n.y+o.y)),h=new x(.5*(n.x+i.x),.5*(n.y+i.y)),l=new x(.5*(a.x+h.x),.5*(a.y+h.y));return[[t,o,a,l],[l,h,i,r]]},o=t=&gt;{let e=t[0].distSquared(t[1]),s=t[2].distSquared(t[3]),r=.25*t[0].distSquared(t[2]),n=.25*t[1].distSquared(t[3]),o=e&gt;s?e:s,i=r&gt;n?r:n;return 18*(o&gt;i?o:i)},i=(t,e)=&gt;Math.sqrt(t.distSquared(e)),a=(t,e)=&gt;t.scale(2/3).add(e.scale(1/3)),h=t=&gt;{let e,s,r,n,o,i,a,h=new g;return t.match(/(\w+\(\s*[^)]+\))+/g).forEach(t=&gt;{let l=t.match(/[\w.-]+/g),d=l.shift();switch(d){case&quot;translate&quot;:2===l.length?e=new g(1,0,0,1,l[0],l[1]):(console.error(&quot;mesh.js: translate does not have 2 arguments!&quot;),e=new g(1,0,0,1,0,0)),h=h.append(e);break;case&quot;scale&quot;:1===l.length?s=new g(l[0],0,0,l[0],0,0):2===l.length?s=new g(l[0],0,0,l[1],0,0):(console.error(&quot;mesh.js: scale does not have 1 or 2 arguments!&quot;),s=new g(1,0,0,1,0,0)),h=h.append(s);break;case&quot;rotate&quot;:if(3===l.length&amp;&amp;(e=new g(1,0,0,1,l[1],l[2]),h=h.append(e)),l[0]){r=l[0]*Math.PI/180;let t=Math.cos(r),e=Math.sin(r);Math.abs(t)&lt;1e-16&amp;&amp;(t=0),Math.abs(e)&lt;1e-16&amp;&amp;(e=0),a=new g(t,e,-e,t,0,0),h=h.append(a)}else console.error(&quot;math.js: No argument to rotate transform!&quot;);3===l.length&amp;&amp;(e=new g(1,0,0,1,-l[1],-l[2]),h=h.append(e));break;case&quot;skewX&quot;:l[0]?(r=l[0]*Math.PI/180,n=Math.tan(r),o=new g(1,0,n,1,0,0),h=h.append(o)):console.error(&quot;math.js: No argument to skewX transform!&quot;);break;case&quot;skewY&quot;:l[0]?(r=l[0]*Math.PI/180,n=Math.tan(r),i=new g(1,n,0,1,0,0),h=h.append(i)):console.error(&quot;math.js: No argument to skewY transform!&quot;);break;case&quot;matrix&quot;:6===l.length?h=h.append(new g(...l)):console.error(&quot;math.js: Incorrect number of arguments for matrix!&quot;);break;default:console.error(&quot;mesh.js: Unhandled transform type: &quot;+d)}}),h},l=t=&gt;{let e=[],s=t.split(/[ ,]+/);for(let t=0,r=s.length-1;t&lt;r;t+=2)e.push(new x(parseFloat(s[t]),parseFloat(s[t+1])));return e},d=(t,e)=&gt;{for(let s in e)t.setAttribute(s,e[s])},c=(t,e,s,r,n)=&gt;{let o,i,a=[0,0,0,0];for(let h=0;h&lt;3;++h)e[h]&lt;t[h]&amp;&amp;e[h]&lt;s[h]||t[h]&lt;e[h]&amp;&amp;s[h]&lt;e[h]?a[h]=0:(a[h]=.5*((e[h]-t[h])/r+(s[h]-e[h])/n),o=Math.abs(3*(e[h]-t[h])/r),i=Math.abs(3*(s[h]-e[h])/n),a[h]&gt;o?a[h]=o:a[h]&gt;i&amp;&amp;(a[h]=i));return a},u=[[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[-3,3,0,0,-2,-1,0,0,0,0,0,0,0,0,0,0],[2,-2,0,0,1,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,-3,3,0,0,-2,-1,0,0],[0,0,0,0,0,0,0,0,2,-2,0,0,1,1,0,0],[-3,0,3,0,0,0,0,0,-2,0,-1,0,0,0,0,0],[0,0,0,0,-3,0,3,0,0,0,0,0,-2,0,-1,0],[9,-9,-9,9,6,3,-6,-3,6,-6,3,-3,4,2,2,1],[-6,6,6,-6,-3,-3,3,3,-4,4,-2,2,-2,-2,-1,-1],[2,0,-2,0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,2,0,-2,0,0,0,0,0,1,0,1,0],[-6,6,6,-6,-4,-2,4,2,-3,3,-3,3,-2,-1,-2,-1],[4,-4,-4,4,2,2,-2,-2,2,-2,2,-2,1,1,1,1]],f=t=&gt;{let e=[];for(let s=0;s&lt;16;++s){e[s]=0;for(let r=0;r&lt;16;++r)e[s]+=u[s][r]*t[r]}return e},p=(t,e,s)=&gt;{const r=e*e,n=s*s,o=e*e*e,i=s*s*s;return t[0]+t[1]*e+t[2]*r+t[3]*o+t[4]*s+t[5]*s*e+t[6]*s*r+t[7]*s*o+t[8]*n+t[9]*n*e+t[10]*n*r+t[11]*n*o+t[12]*i+t[13]*i*e+t[14]*i*r+t[15]*i*o},y=t=&gt;{let e=[],s=[],r=[];for(let s=0;s&lt;4;++s)e[s]=[],e[s][0]=n(t[0][s],t[1][s],t[2][s],t[3][s]),e[s][1]=[],e[s][1].push(...n(...e[s][0][0])),e[s][1].push(...n(...e[s][0][1])),e[s][2]=[],e[s][2].push(...n(...e[s][1][0])),e[s][2].push(...n(...e[s][1][1])),e[s][2].push(...n(...e[s][1][2])),e[s][2].push(...n(...e[s][1][3]));for(let t=0;t&lt;8;++t){s[t]=[];for(let r=0;r&lt;4;++r)s[t][r]=[],s[t][r][0]=n(e[0][2][t][r],e[1][2][t][r],e[2][2][t][r],e[3][2][t][r]),s[t][r][1]=[],s[t][r][1].push(...n(...s[t][r][0][0])),s[t][r][1].push(...n(...s[t][r][0][1])),s[t][r][2]=[],s[t][r][2].push(...n(...s[t][r][1][0])),s[t][r][2].push(...n(...s[t][r][1][1])),s[t][r][2].push(...n(...s[t][r][1][2])),s[t][r][2].push(...n(...s[t][r][1][3]))}for(let t=0;t&lt;8;++t){r[t]=[];for(let e=0;e&lt;8;++e)r[t][e]=[],r[t][e][0]=s[t][0][2][e],r[t][e][1]=s[t][1][2][e],r[t][e][2]=s[t][2][2][e],r[t][e][3]=s[t][3][2][e]}return r};class x{constructor(t,e){this.x=t||0,this.y=e||0}toString(){return`(x=${this.x}, y=${this.y})`}clone(){return new x(this.x,this.y)}add(t){return new x(this.x+t.x,this.y+t.y)}scale(t){return void 0===t.x?new x(this.x*t,this.y*t):new x(this.x*t.x,this.y*t.y)}distSquared(t){let e=this.x-t.x,s=this.y-t.y;return e*e+s*s}transform(t){let e=this.x*t.a+this.y*t.c+t.e,s=this.x*t.b+this.y*t.d+t.f;return new x(e,s)}}class g{constructor(t,e,s,r,n,o){void 0===t?(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0):(this.a=t,this.b=e,this.c=s,this.d=r,this.e=n,this.f=o)}toString(){return`affine: ${this.a} ${this.c} ${this.e} \n ${this.b} ${this.d} ${this.f}`}append(t){t instanceof g||console.error(&quot;mesh.js: argument to Affine.append is not affine!&quot;);let e=this.a*t.a+this.c*t.b,s=this.b*t.a+this.d*t.b,r=this.a*t.c+this.c*t.d,n=this.b*t.c+this.d*t.d,o=this.a*t.e+this.c*t.f+this.e,i=this.b*t.e+this.d*t.f+this.f;return new g(e,s,r,n,o,i)}}class w{constructor(t,e){this.nodes=t,this.colors=e}paintCurve(t,e){if(o(this.nodes)&gt;r){const s=n(...this.nodes);let r=[[],[]],o=[[],[]];for(let t=0;t&lt;4;++t)r[0][t]=this.colors[0][t],r[1][t]=(this.colors[0][t]+this.colors[1][t])/2,o[0][t]=r[1][t],o[1][t]=this.colors[1][t];let i=new w(s[0],r),a=new w(s[1],o);i.paintCurve(t,e),a.paintCurve(t,e)}else{let s=Math.round(this.nodes[0].x);if(s&gt;=0&amp;&amp;s&lt;e){let r=4*(~~this.nodes[0].y*e+s);t[r]=Math.round(this.colors[0][0]),t[r+1]=Math.round(this.colors[0][1]),t[r+2]=Math.round(this.colors[0][2]),t[r+3]=Math.round(this.colors[0][3])}}}}class m{constructor(t,e){this.nodes=t,this.colors=e}split(){let t=[[],[],[],[]],e=[[],[],[],[]],s=[[[],[]],[[],[]]],r=[[[],[]],[[],[]]];for(let s=0;s&lt;4;++s){const r=n(this.nodes[0][s],this.nodes[1][s],this.nodes[2][s],this.nodes[3][s]);t[0][s]=r[0][0],t[1][s]=r[0][1],t[2][s]=r[0][2],t[3][s]=r[0][3],e[0][s]=r[1][0],e[1][s]=r[1][1],e[2][s]=r[1][2],e[3][s]=r[1][3]}for(let t=0;t&lt;4;++t)s[0][0][t]=this.colors[0][0][t],s[0][1][t]=this.colors[0][1][t],s[1][0][t]=(this.colors[0][0][t]+this.colors[1][0][t])/2,s[1][1][t]=(this.colors[0][1][t]+this.colors[1][1][t])/2,r[0][0][t]=s[1][0][t],r[0][1][t]=s[1][1][t],r[1][0][t]=this.colors[1][0][t],r[1][1][t]=this.colors[1][1][t];return[new m(t,s),new m(e,r)]}paint(t,e){let s,n=!1;for(let t=0;t&lt;4;++t)if((s=o([this.nodes[0][t],this.nodes[1][t],this.nodes[2][t],this.nodes[3][t]]))&gt;r){n=!0;break}if(n){let s=this.split();s[0].paint(t,e),s[1].paint(t,e)}else{new w([...this.nodes[0]],[...this.colors[0]]).paintCurve(t,e)}}}class b{constructor(t){this.readMesh(t),this.type=t.getAttribute(&quot;type&quot;)||&quot;bilinear&quot;}readMesh(t){let e=[[]],s=[[]],r=Number(t.getAttribute(&quot;x&quot;)),n=Number(t.getAttribute(&quot;y&quot;));e[0][0]=new x(r,n);let o=t.children;for(let t=0,r=o.length;t&lt;r;++t){e[3*t+1]=[],e[3*t+2]=[],e[3*t+3]=[],s[t+1]=[];let r=o[t].children;for(let n=0,o=r.length;n&lt;o;++n){let o=r[n].children;for(let r=0,i=o.length;r&lt;i;++r){let i=r;0!==t&amp;&amp;++i;let h,d=o[r].getAttribute(&quot;path&quot;),c=&quot;l&quot;;null!=d&amp;&amp;(c=(h=d.match(/\s*([lLcC])\s*(.*)/))[1]);let u=l(h[2]);switch(c){case&quot;l&quot;:0===i?(e[3*t][3*n+3]=u[0].add(e[3*t][3*n]),e[3*t][3*n+1]=a(e[3*t][3*n],e[3*t][3*n+3]),e[3*t][3*n+2]=a(e[3*t][3*n+3],e[3*t][3*n])):1===i?(e[3*t+3][3*n+3]=u[0].add(e[3*t][3*n+3]),e[3*t+1][3*n+3]=a(e[3*t][3*n+3],e[3*t+3][3*n+3]),e[3*t+2][3*n+3]=a(e[3*t+3][3*n+3],e[3*t][3*n+3])):2===i?(0===n&amp;&amp;(e[3*t+3][3*n+0]=u[0].add(e[3*t+3][3*n+3])),e[3*t+3][3*n+1]=a(e[3*t+3][3*n],e[3*t+3][3*n+3]),e[3*t+3][3*n+2]=a(e[3*t+3][3*n+3],e[3*t+3][3*n])):(e[3*t+1][3*n]=a(e[3*t][3*n],e[3*t+3][3*n]),e[3*t+2][3*n]=a(e[3*t+3][3*n],e[3*t][3*n]));break;case&quot;L&quot;:0===i?(e[3*t][3*n+3]=u[0],e[3*t][3*n+1]=a(e[3*t][3*n],e[3*t][3*n+3]),e[3*t][3*n+2]=a(e[3*t][3*n+3],e[3*t][3*n])):1===i?(e[3*t+3][3*n+3]=u[0],e[3*t+1][3*n+3]=a(e[3*t][3*n+3],e[3*t+3][3*n+3]),e[3*t+2][3*n+3]=a(e[3*t+3][3*n+3],e[3*t][3*n+3])):2===i?(0===n&amp;&amp;(e[3*t+3][3*n+0]=u[0]),e[3*t+3][3*n+1]=a(e[3*t+3][3*n],e[3*t+3][3*n+3]),e[3*t+3][3*n+2]=a(e[3*t+3][3*n+3],e[3*t+3][3*n])):(e[3*t+1][3*n]=a(e[3*t][3*n],e[3*t+3][3*n]),e[3*t+2][3*n]=a(e[3*t+3][3*n],e[3*t][3*n]));break;case&quot;c&quot;:0===i?(e[3*t][3*n+1]=u[0].add(e[3*t][3*n]),e[3*t][3*n+2]=u[1].add(e[3*t][3*n]),e[3*t][3*n+3]=u[2].add(e[3*t][3*n])):1===i?(e[3*t+1][3*n+3]=u[0].add(e[3*t][3*n+3]),e[3*t+2][3*n+3]=u[1].add(e[3*t][3*n+3]),e[3*t+3][3*n+3]=u[2].add(e[3*t][3*n+3])):2===i?(e[3*t+3][3*n+2]=u[0].add(e[3*t+3][3*n+3]),e[3*t+3][3*n+1]=u[1].add(e[3*t+3][3*n+3]),0===n&amp;&amp;(e[3*t+3][3*n+0]=u[2].add(e[3*t+3][3*n+3]))):(e[3*t+2][3*n]=u[0].add(e[3*t+3][3*n]),e[3*t+1][3*n]=u[1].add(e[3*t+3][3*n]));break;case&quot;C&quot;:0===i?(e[3*t][3*n+1]=u[0],e[3*t][3*n+2]=u[1],e[3*t][3*n+3]=u[2]):1===i?(e[3*t+1][3*n+3]=u[0],e[3*t+2][3*n+3]=u[1],e[3*t+3][3*n+3]=u[2]):2===i?(e[3*t+3][3*n+2]=u[0],e[3*t+3][3*n+1]=u[1],0===n&amp;&amp;(e[3*t+3][3*n+0]=u[2])):(e[3*t+2][3*n]=u[0],e[3*t+1][3*n]=u[1]);break;default:console.error(&quot;mesh.js: &quot;+c+&quot; invalid path type.&quot;)}if(0===t&amp;&amp;0===n||r&gt;0){let e=window.getComputedStyle(o[r]).stopColor.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),a=window.getComputedStyle(o[r]).stopOpacity,h=255;a&amp;&amp;(h=Math.floor(255*a)),e&amp;&amp;(0===i?(s[t][n]=[],s[t][n][0]=Math.floor(e[1]),s[t][n][1]=Math.floor(e[2]),s[t][n][2]=Math.floor(e[3]),s[t][n][3]=h):1===i?(s[t][n+1]=[],s[t][n+1][0]=Math.floor(e[1]),s[t][n+1][1]=Math.floor(e[2]),s[t][n+1][2]=Math.floor(e[3]),s[t][n+1][3]=h):2===i?(s[t+1][n+1]=[],s[t+1][n+1][0]=Math.floor(e[1]),s[t+1][n+1][1]=Math.floor(e[2]),s[t+1][n+1][2]=Math.floor(e[3]),s[t+1][n+1][3]=h):3===i&amp;&amp;(s[t+1][n]=[],s[t+1][n][0]=Math.floor(e[1]),s[t+1][n][1]=Math.floor(e[2]),s[t+1][n][2]=Math.floor(e[3]),s[t+1][n][3]=h))}}e[3*t+1][3*n+1]=new x,e[3*t+1][3*n+2]=new x,e[3*t+2][3*n+1]=new x,e[3*t+2][3*n+2]=new x,e[3*t+1][3*n+1].x=(-4*e[3*t][3*n].x+6*(e[3*t][3*n+1].x+e[3*t+1][3*n].x)+-2*(e[3*t][3*n+3].x+e[3*t+3][3*n].x)+3*(e[3*t+3][3*n+1].x+e[3*t+1][3*n+3].x)+-1*e[3*t+3][3*n+3].x)/9,e[3*t+1][3*n+2].x=(-4*e[3*t][3*n+3].x+6*(e[3*t][3*n+2].x+e[3*t+1][3*n+3].x)+-2*(e[3*t][3*n].x+e[3*t+3][3*n+3].x)+3*(e[3*t+3][3*n+2].x+e[3*t+1][3*n].x)+-1*e[3*t+3][3*n].x)/9,e[3*t+2][3*n+1].x=(-4*e[3*t+3][3*n].x+6*(e[3*t+3][3*n+1].x+e[3*t+2][3*n].x)+-2*(e[3*t+3][3*n+3].x+e[3*t][3*n].x)+3*(e[3*t][3*n+1].x+e[3*t+2][3*n+3].x)+-1*e[3*t][3*n+3].x)/9,e[3*t+2][3*n+2].x=(-4*e[3*t+3][3*n+3].x+6*(e[3*t+3][3*n+2].x+e[3*t+2][3*n+3].x)+-2*(e[3*t+3][3*n].x+e[3*t][3*n+3].x)+3*(e[3*t][3*n+2].x+e[3*t+2][3*n].x)+-1*e[3*t][3*n].x)/9,e[3*t+1][3*n+1].y=(-4*e[3*t][3*n].y+6*(e[3*t][3*n+1].y+e[3*t+1][3*n].y)+-2*(e[3*t][3*n+3].y+e[3*t+3][3*n].y)+3*(e[3*t+3][3*n+1].y+e[3*t+1][3*n+3].y)+-1*e[3*t+3][3*n+3].y)/9,e[3*t+1][3*n+2].y=(-4*e[3*t][3*n+3].y+6*(e[3*t][3*n+2].y+e[3*t+1][3*n+3].y)+-2*(e[3*t][3*n].y+e[3*t+3][3*n+3].y)+3*(e[3*t+3][3*n+2].y+e[3*t+1][3*n].y)+-1*e[3*t+3][3*n].y)/9,e[3*t+2][3*n+1].y=(-4*e[3*t+3][3*n].y+6*(e[3*t+3][3*n+1].y+e[3*t+2][3*n].y)+-2*(e[3*t+3][3*n+3].y+e[3*t][3*n].y)+3*(e[3*t][3*n+1].y+e[3*t+2][3*n+3].y)+-1*e[3*t][3*n+3].y)/9,e[3*t+2][3*n+2].y=(-4*e[3*t+3][3*n+3].y+6*(e[3*t+3][3*n+2].y+e[3*t+2][3*n+3].y)+-2*(e[3*t+3][3*n].y+e[3*t][3*n+3].y)+3*(e[3*t][3*n+2].y+e[3*t+2][3*n].y)+-1*e[3*t][3*n].y)/9}}this.nodes=e,this.colors=s}paintMesh(t,e){let s=(this.nodes.length-1)/3,r=(this.nodes[0].length-1)/3;if(&quot;bilinear&quot;===this.type||s&lt;2||r&lt;2){let n;for(let o=0;o&lt;s;++o)for(let s=0;s&lt;r;++s){let r=[];for(let t=3*o,e=3*o+4;t&lt;e;++t)r.push(this.nodes[t].slice(3*s,3*s+4));let i=[];i.push(this.colors[o].slice(s,s+2)),i.push(this.colors[o+1].slice(s,s+2)),(n=new m(r,i)).paint(t,e)}}else{let n,o,a,h,l,d,u;const x=s,g=r;s++,r++;let w=new Array(s);for(let t=0;t&lt;s;++t){w[t]=new Array(r);for(let e=0;e&lt;r;++e)w[t][e]=[],w[t][e][0]=this.nodes[3*t][3*e],w[t][e][1]=this.colors[t][e]}for(let t=0;t&lt;s;++t)for(let e=0;e&lt;r;++e)0!==t&amp;&amp;t!==x&amp;&amp;(n=i(w[t-1][e][0],w[t][e][0]),o=i(w[t+1][e][0],w[t][e][0]),w[t][e][2]=c(w[t-1][e][1],w[t][e][1],w[t+1][e][1],n,o)),0!==e&amp;&amp;e!==g&amp;&amp;(n=i(w[t][e-1][0],w[t][e][0]),o=i(w[t][e+1][0],w[t][e][0]),w[t][e][3]=c(w[t][e-1][1],w[t][e][1],w[t][e+1][1],n,o));for(let t=0;t&lt;r;++t){w[0][t][2]=[],w[x][t][2]=[];for(let e=0;e&lt;4;++e)n=i(w[1][t][0],w[0][t][0]),o=i(w[x][t][0],w[x-1][t][0]),w[0][t][2][e]=n&gt;0?2*(w[1][t][1][e]-w[0][t][1][e])/n-w[1][t][2][e]:0,w[x][t][2][e]=o&gt;0?2*(w[x][t][1][e]-w[x-1][t][1][e])/o-w[x-1][t][2][e]:0}for(let t=0;t&lt;s;++t){w[t][0][3]=[],w[t][g][3]=[];for(let e=0;e&lt;4;++e)n=i(w[t][1][0],w[t][0][0]),o=i(w[t][g][0],w[t][g-1][0]),w[t][0][3][e]=n&gt;0?2*(w[t][1][1][e]-w[t][0][1][e])/n-w[t][1][3][e]:0,w[t][g][3][e]=o&gt;0?2*(w[t][g][1][e]-w[t][g-1][1][e])/o-w[t][g-1][3][e]:0}for(let s=0;s&lt;x;++s)for(let r=0;r&lt;g;++r){let n=i(w[s][r][0],w[s+1][r][0]),o=i(w[s][r+1][0],w[s+1][r+1][0]),c=i(w[s][r][0],w[s][r+1][0]),x=i(w[s+1][r][0],w[s+1][r+1][0]),g=[[],[],[],[]];for(let t=0;t&lt;4;++t){(d=[])[0]=w[s][r][1][t],d[1]=w[s+1][r][1][t],d[2]=w[s][r+1][1][t],d[3]=w[s+1][r+1][1][t],d[4]=w[s][r][2][t]*n,d[5]=w[s+1][r][2][t]*n,d[6]=w[s][r+1][2][t]*o,d[7]=w[s+1][r+1][2][t]*o,d[8]=w[s][r][3][t]*c,d[9]=w[s+1][r][3][t]*x,d[10]=w[s][r+1][3][t]*c,d[11]=w[s+1][r+1][3][t]*x,d[12]=0,d[13]=0,d[14]=0,d[15]=0,u=f(d);for(let e=0;e&lt;9;++e){g[t][e]=[];for(let s=0;s&lt;9;++s)g[t][e][s]=p(u,e/8,s/8),g[t][e][s]&gt;255?g[t][e][s]=255:g[t][e][s]&lt;0&amp;&amp;(g[t][e][s]=0)}}h=[];for(let t=3*s,e=3*s+4;t&lt;e;++t)h.push(this.nodes[t].slice(3*r,3*r+4));l=y(h);for(let s=0;s&lt;8;++s)for(let r=0;r&lt;8;++r)(a=new m(l[s][r],[[[g[0][s][r],g[1][s][r],g[2][s][r],g[3][s][r]],[g[0][s][r+1],g[1][s][r+1],g[2][s][r+1],g[3][s][r+1]]],[[g[0][s+1][r],g[1][s+1][r],g[2][s+1][r],g[3][s+1][r]],[g[0][s+1][r+1],g[1][s+1][r+1],g[2][s+1][r+1],g[3][s+1][r+1]]]])).paint(t,e)}}}transform(t){if(t instanceof x)for(let e=0,s=this.nodes.length;e&lt;s;++e)for(let s=0,r=this.nodes[0].length;s&lt;r;++s)this.nodes[e][s]=this.nodes[e][s].add(t);else if(t instanceof g)for(let e=0,s=this.nodes.length;e&lt;s;++e)for(let s=0,r=this.nodes[0].length;s&lt;r;++s)this.nodes[e][s]=this.nodes[e][s].transform(t)}scale(t){for(let e=0,s=this.nodes.length;e&lt;s;++e)for(let s=0,r=this.nodes[0].length;s&lt;r;++s)this.nodes[e][s]=this.nodes[e][s].scale(t)}}document.querySelectorAll(&quot;rect,circle,ellipse,path,text&quot;).forEach((r,n)=&gt;{let o=r.getAttribute(&quot;id&quot;);o||(o=&quot;patchjs_shape&quot;+n,r.setAttribute(&quot;id&quot;,o));const i=r.style.fill.match(/^url\(\s*&quot;?\s*#([^\s&quot;]+)&quot;?\s*\)/),a=r.style.stroke.match(/^url\(\s*&quot;?\s*#([^\s&quot;]+)&quot;?\s*\)/);if(i&amp;&amp;i[1]){const a=document.getElementById(i[1]);if(a&amp;&amp;&quot;meshgradient&quot;===a.nodeName){const i=r.getBBox();let l=document.createElementNS(s,&quot;canvas&quot;);d(l,{width:i.width,height:i.height});const c=l.getContext(&quot;2d&quot;);let u=c.createImageData(i.width,i.height);const f=new b(a);&quot;objectBoundingBox&quot;===a.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;f.scale(new x(i.width,i.height));const p=a.getAttribute(&quot;gradientTransform&quot;);null!=p&amp;&amp;f.transform(h(p)),&quot;userSpaceOnUse&quot;===a.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;f.transform(new x(-i.x,-i.y)),f.paintMesh(u.data,l.width),c.putImageData(u,0,0);const y=document.createElementNS(t,&quot;image&quot;);d(y,{width:i.width,height:i.height,x:i.x,y:i.y});let g=l.toDataURL();y.setAttributeNS(e,&quot;xlink:href&quot;,g),r.parentNode.insertBefore(y,r),r.style.fill=&quot;none&quot;;const w=document.createElementNS(t,&quot;use&quot;);w.setAttributeNS(e,&quot;xlink:href&quot;,&quot;#&quot;+o);const m=&quot;patchjs_clip&quot;+n,M=document.createElementNS(t,&quot;clipPath&quot;);M.setAttribute(&quot;id&quot;,m),M.appendChild(w),r.parentElement.insertBefore(M,r),y.setAttribute(&quot;clip-path&quot;,&quot;url(#&quot;+m+&quot;)&quot;),u=null,l=null,g=null}}if(a&amp;&amp;a[1]){const o=document.getElementById(a[1]);if(o&amp;&amp;&quot;meshgradient&quot;===o.nodeName){const i=parseFloat(r.style.strokeWidth.slice(0,-2))*(parseFloat(r.style.strokeMiterlimit)||parseFloat(r.getAttribute(&quot;stroke-miterlimit&quot;))||1),a=r.getBBox(),l=Math.trunc(a.width+i),c=Math.trunc(a.height+i),u=Math.trunc(a.x-i/2),f=Math.trunc(a.y-i/2);let p=document.createElementNS(s,&quot;canvas&quot;);d(p,{width:l,height:c});const y=p.getContext(&quot;2d&quot;);let g=y.createImageData(l,c);const w=new b(o);&quot;objectBoundingBox&quot;===o.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;w.scale(new x(l,c));const m=o.getAttribute(&quot;gradientTransform&quot;);null!=m&amp;&amp;w.transform(h(m)),&quot;userSpaceOnUse&quot;===o.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;w.transform(new x(-u,-f)),w.paintMesh(g.data,p.width),y.putImageData(g,0,0);const M=document.createElementNS(t,&quot;image&quot;);d(M,{width:l,height:c,x:0,y:0});let S=p.toDataURL();M.setAttributeNS(e,&quot;xlink:href&quot;,S);const k=&quot;pattern_clip&quot;+n,A=document.createElementNS(t,&quot;pattern&quot;);d(A,{id:k,patternUnits:&quot;userSpaceOnUse&quot;,width:l,height:c,x:u,y:f}),A.appendChild(M),o.parentNode.appendChild(A),r.style.stroke=&quot;url(#&quot;+k+&quot;)&quot;,g=null,p=null,S=null}}})}();
                    </script>
                    <g id="g14100"
                       transform="matrix(0.51200353,0,0,0.50758584,-0.27657802,0.00639438)">
                        <rect style="fill:url(#meshgradient7533-3-3);fill-opacity:1;stroke:#ffffff;stroke-width:3.19729;stroke-dasharray:none;stroke-opacity:1"
                              id="rect5204-3-3"
                              width="43.420609"
                              height="43.233215"
                              x="2.1870477"
                              y="2.3987722"
                              inkscape:export-filename="rect5204-3-3.png"
                              inkscape:export-xdpi="113.52"
                              inkscape:export-ydpi="113.52" />
                        <g id="g1383-6"
                           transform="matrix(0.01837892,0,0,0.01829959,-28.722481,19.379827)">
                            <path id="path2165-6-0"
                                  style="fill:url(#linearGradient1740);fill-opacity:1;stroke-width:16.2032"
                                  d="M 2874.6197,328.64358 3978.4072,-21.401869 3941.7363,758.94414 2863.8059,1266.2849 1768.0499,806.50117 C 1751.6564,610.21676 1553.1433,8.8756437 1727.4402,-80.296623 1879.3564,-158.01859 2445.6008,250.71485 2874.6197,328.64358 Z"
                                  sodipodi:nodetypes="cccccsc"
                                  inkscape:export-filename="path2165.png"
                                  inkscape:export-xdpi="113.52"
                                  inkscape:export-ydpi="113.52" />
                            <g id="g1819-5-6"
                               transform="matrix(1.1486594,0,0,1.1486594,10620.718,4027.5609)">
                                <rect style="fill:#483e37;stroke-width:16.5094"
                                      id="rect1030-92-2"
                                      width="217.90056"
                                      height="882.39764"
                                      x="-8644.6904"
                                      y="-685.78284"
                                      transform="matrix(0.90918004,0.41640324,0,-1,0,0)" />
                                <rect style="fill:#483e37;stroke-width:16.5094"
                                      id="rect1030-9-2-6"
                                      width="217.90056"
                                      height="882.39764"
                                      x="6212.5005"
                                      y="5501.1455"
                                      transform="matrix(-0.90918004,0.41640324,0,-1,0,0)" />
                            </g>
                            <g id="g3173-8-1"
                               transform="matrix(1.1486594,0,0,1.1486594,10620.718,4057.4261)">
                                <rect style="fill:#483e37;stroke-width:16.2211"
                                      id="rect1544-9-8"
                                      width="1151.609"
                                      height="1151.609"
                                      x="-8965.4082"
                                      y="-1538.5972"
                                      transform="matrix(0.90947602,0.41575638,-0.90947602,0.41575638,0,0)" />
                                <rect style="fill:url(#linearGradient1742);fill-opacity:1;stroke-width:10.2031"
                                      id="rect1544-0-7-7"
                                      width="724.36713"
                                      height="724.36713"
                                      x="-8758.2529"
                                      y="-1332.9625"
                                      transform="matrix(0.90947602,0.41575638,-0.90947602,0.41575638,0,0)" />
                            </g>
                            <g id="g1253-3-9"
                               style="fill:#483e37"
                               transform="matrix(1.1486594,0,0,1.1486594,10620.718,4027.5609)">
                                <path id="rect2280-612-2"
                                      style="stroke-width:31.9508"
                                      d="m 6221.5444,6198.3334 1218.0612,-17.8765 -0.035,225.1504 h -1218.026 z"
                                      sodipodi:nodetypes="ccccc"
                                      transform="matrix(-0.90784286,0.41931055,0,-1,0,0)" />
                                <path id="rect2280-6-9-0"
                                      style="fill:#483e37;stroke-width:30.443"
                                      d="m -6753.9497,-3286.1212 -1106.072,-510.8592 v 225.1447 l 1106.0196,510.8772 z"
                                      sodipodi:nodetypes="ccccc" />
                            </g>
                            <g id="g1253-2-3-2"
                               style="fill:#483e37"
                               transform="matrix(1.1486594,0,0,1.1486594,10572.395,4748.9256)">
                                <g id="g2531-1-3"
                                   transform="translate(41.671494,-10.15706)">
                                    <path id="rect2280-61-9-7"
                                          style="stroke-width:30.443"
                                          d="m -5647.9856,-3376.9107 -1105.7762,528.602 v -225.1447 l 1105.7762,-510.7312 z"
                                          sodipodi:nodetypes="ccccc" />
                                    <path id="rect2280-6-8-4-5"
                                          style="fill:#483e37;stroke-width:30.443"
                                          d="m -6753.7761,-3073.4252 -1106.0465,-510.8917 v 225.1447 l 1106.0565,510.8616 z"
                                          sodipodi:nodetypes="ccccc" />
                                </g>
                            </g>
                            <g aria-label="TSD"
                               id="text451-2-9"
                               style="font-size:6.75426px;fill:#ffffff;stroke-width:8.10512"
                               inkscape:path-effect="#path-effect661-1-0"
                               transform="matrix(90.642555,0,0,90.642555,1518.9782,-321.95081)">
                                <path d="M 3.8992093,11.668698 2.6581524,11.122337 2.5734072,4.4419044 0.95350468,3.667045 0.93556932,2.2242549 5.3632077,4.3782376 5.3816766,5.7852036 3.8137669,5.0352143 Z"
                                      style="font-weight:bold"
                                      id="path654-6-2"
                                      inkscape:original-d="M 5.4600983,10.898196 H 4.4402051 V 6.9266913 H 3.1298786 V 6.0756545 H 6.7704248 V 6.9266913 H 5.4600983 Z" />
                                <path d="M 9.590117,12.024908 C 9.5996443,12.71638 9.4316113,13.191379 9.0848917,13.450632 8.7417043,13.705959 8.2444379,13.691113 7.5904151,13.403611 6.9995425,13.143869 6.4657982,12.750673 5.9903526,12.223247 l -0.020775,-1.572719 c 0.2724664,0.285349 0.5518511,0.562252 0.8380807,0.83071 0.2904291,0.262535 0.5763843,0.456646 0.857892,0.582677 0.2909483,0.130257 0.4945252,0.144777 0.6113523,0.04401 C 8.3986193,12.002286 8.4577639,11.828624 8.4544754,11.586828 8.4517851,11.389008 8.4005078,11.198227 8.3005597,11.01432 8.2056693,10.832567 8.0771826,10.646248 7.9149481,10.455242 7.7523115,10.256525 7.5658389,10.039311 7.3553767,9.8034512 7.2235669,9.6548271 7.0808853,9.4863835 6.9272801,9.2980419 6.7733068,9.1019759 6.623984,8.8821064 6.4793392,8.6383965 6.3396451,8.3893417 6.2230481,8.1139358 6.129643,7.8122489 6.036147,7.5102686 5.9869606,7.1772941 5.9821524,6.8135771 5.972734,6.1011101 6.1375772,5.6311823 6.4756268,5.4043804 6.8121802,5.1711354 7.2727763,5.1975265 7.8554411,5.4813613 8.1452753,5.6225488 8.4193156,5.8032524 8.6777198,6.0233348 8.940463,6.2452396 9.213153,6.5114454 9.4956979,6.8216977 l -0.356903,1.108086 C 8.886116,7.6644614 8.6588316,7.443513 8.4571435,7.2672132 8.2549791,7.0904969 8.0477087,6.9512056 7.8352906,6.8494607 7.6119358,6.7424774 7.441113,6.7337569 7.3231358,6.8236099 7.204986,6.9135943 7.1474271,7.0765788 7.1505889,7.312478 c 0.00375,0.2801531 0.095595,0.5432395 0.2752461,0.788864 0.1792843,0.2451239 0.4443374,0.5665945 0.7943723,0.9635829 0.2862629,0.3227265 0.5280494,0.6314213 0.7257332,0.9263839 0.2023496,0.2966612 0.3588326,0.6079072 0.4697005,0.9339622 0.1107352,0.325667 0.1688608,0.692102 0.174476,1.099637 z"
                                      style="font-weight:bold"
                                      id="path656-1-2"
                                      inkscape:original-d="m 10.35694,9.5608527 q 0,0.6416543 -0.4660438,1.0266473 -0.4592896,0.378239 -1.3103264,0.378239 -0.7632314,0 -1.3643606,-0.290433 V 9.722955 q 0.3444673,0.1485937 0.7091974,0.2769246 0.3714843,0.1215764 0.7362143,0.1215764 0.3782386,0 0.5335865,-0.1418391 0.1621023,-0.1485938 0.1621023,-0.3714844 0,-0.182365 -0.128331,-0.3106959 Q 9.1074021,9.1691056 8.89802,9.0610375 8.6886379,8.9462151 8.4184675,8.8178841 8.249611,8.736833 8.0537375,8.6287648 7.857864,8.5139424 7.6754989,8.3518402 7.4998882,8.1829837 7.3850658,7.9465846 7.2702433,7.7101855 7.2702433,7.3792267 q 0,-0.6484089 0.4390269,-1.0063847 0.4390269,-0.3647301 1.1955041,-0.3647301 0.3782385,0 0.7159515,0.087805 0.3444673,0.087805 0.7159512,0.2499076 L 10.005719,7.1428276 Q 9.6747599,7.0077424 9.4113438,6.9334456 9.1479276,6.8591487 8.871003,6.8591487 q -0.2904332,0 -0.4457812,0.1350852 -0.155348,0.1350852 -0.155348,0.3512215 0,0.2566619 0.2296449,0.4052556 0.2296448,0.1485938 0.6821802,0.3647301 0.3714843,0.1756107 0.6281462,0.36473 0.2634159,0.1891193 0.4052559,0.4457812 0.141839,0.2566619 0.141839,0.6349004 z" />
                                <path d="m 14.896769,12.686238 c 0.01864,1.275358 -0.213168,2.126831 -0.697703,2.556051 -0.482857,0.426964 -1.175734,0.443202 -2.083849,0.04342 l -1.50928,-0.664444 -0.107911,-7.7450071 1.671063,0.8129486 c 0.549591,0.2673678 1.024662,0.6396395 1.426515,1.116439 0.404758,0.476853 0.71842,1.041829 0.942032,1.6954315 0.227728,0.647196 0.347294,1.375122 0.359133,2.185166 z M 13.767118,12.204539 C 13.754933,11.360536 13.620286,10.684227 13.362605,10.17431 13.104057,9.6557646 12.732726,9.2802364 12.247042,9.047853 l -0.600009,-0.2870843 0.07069,5.0101523 0.482008,0.216107 c 1.072477,0.480843 1.591455,-0.1151 1.567382,-1.782489 z"
                                      style="font-weight:bold"
                                      id="path658-8-8"
                                      inkscape:original-d="m 15.23352,8.4396456 q 0,1.222521 -0.695689,1.8439134 -0.688934,0.614637 -1.938472,0.614637 H 11.234998 V 6.0756545 h 1.512954 q 0.756478,0 1.310327,0.2701704 0.560603,0.2701704 0.864545,0.7970027 0.310696,0.5200781 0.310696,1.296818 z m -1.060419,0.027017 q 0,-0.8037569 -0.351221,-1.1752413 -0.351222,-0.3782385 -1.019893,-0.3782385 h -0.547096 v 3.1407312 h 0.439027 q 1.479183,0 1.479183,-1.5872514 z" />
                            </g>
                            <g aria-label="SysTem"
                               id="text451-3-7-9"
                               style="font-size:6.75426px;fill:#ffffff;stroke-width:8.10512"
                               inkscape:path-effect="#path-effect549-2-9"
                               transform="matrix(188.18194,0,0,188.18194,1567.05,-2395.5858)">
                                <path d="m 7.9048082,17.085657 c 4.84e-5,0.282819 -0.04096,0.527591 -0.122906,0.734335 -0.080602,0.202837 -0.1954679,0.338137 -0.344502,0.406095 -0.1334167,0.06084 -0.2526072,0.05173 -0.3576901,-0.02721 l -0.0015,-0.624751 c 0.060291,0.03737 0.1223693,0.06951 0.1862393,0.0964 0.06508,0.02341 0.1295618,0.02044 0.1934593,-0.0089 0.066319,-0.03048 0.1130984,-0.08313 0.1403094,-0.157986 0.028414,-0.07842 0.042585,-0.166673 0.042498,-0.26475 -7.08e-5,-0.08028 -0.011417,-0.143479 -0.03404,-0.189562 -0.021435,-0.04663 -0.050584,-0.08522 -0.087441,-0.115769 -0.036853,-0.03351 -0.07904,-0.06752 -0.1265556,-0.102004 -0.029691,-0.02192 -0.061756,-0.04869 -0.096195,-0.0803 -0.034438,-0.03458 -0.067708,-0.08012 -0.099812,-0.136618 -0.030927,-0.06003 -0.056563,-0.13744 -0.076912,-0.232248 -0.020356,-0.09484 -0.030709,-0.215301 -0.031053,-0.361455 -6.767e-4,-0.286677 0.037338,-0.527737 0.114152,-0.723118 0.076949,-0.198743 0.1821668,-0.33006 0.3157163,-0.393757 0.06686,-0.03189 0.1302078,-0.04252 0.190025,-0.03187 0.061047,0.01008 0.1245306,0.03561 0.1904465,0.07658 l -0.087816,0.574151 c -0.05859,-0.0324 -0.111175,-0.05409 -0.157759,-0.0651 -0.046565,-0.011 -0.094284,-0.0049 -0.1431499,0.0182 -0.051217,0.02424 -0.090456,0.0728 -0.117729,0.145661 -0.027255,0.07281 -0.040796,0.15707 -0.040638,0.252783 1.878e-4,0.113597 0.020524,0.193742 0.061014,0.240493 0.040497,0.04676 0.100638,0.09927 0.1804487,0.157539 0.065546,0.04706 0.120993,0.101848 0.166326,0.164369 0.046531,0.06197 0.08234,0.143883 0.1074175,0.245702 0.02507,0.101789 0.037616,0.236186 0.037645,0.403102 z"
                                      style="font-weight:bold;fill:#ffffff"
                                      id="path536-9-7"
                                      inkscape:original-d="m 6.3178879,17.103723 q 0,0.641655 -0.4660439,1.026648 -0.4592897,0.378238 -1.3103265,0.378238 -0.7632314,0 -1.3643605,-0.290433 v -0.952351 q 0.3444673,0.148594 0.7091973,0.276925 0.3714843,0.121577 0.7362144,0.121577 0.3782385,0 0.5335865,-0.14184 0.1621022,-0.148593 0.1621022,-0.371484 0,-0.182365 -0.1283309,-0.310696 Q 5.0683498,16.711976 4.8589678,16.603908 4.6495857,16.489086 4.3794153,16.360755 4.2105588,16.279704 4.0146852,16.171635 3.8188117,16.056813 3.6364467,15.894711 3.4608359,15.725854 3.3460135,15.489455 3.2311911,15.253056 3.2311911,14.922097 q 0,-0.648409 0.4390269,-1.006385 0.4390269,-0.36473 1.195504,-0.36473 0.3782386,0 0.7159516,0.08781 0.3444672,0.0878 0.7159516,0.249907 L 5.9666664,14.685702 Q 5.6357077,14.550617 5.3722915,14.47632 q -0.2634161,-0.0743 -0.5403408,-0.0743 -0.2904332,0 -0.4457811,0.135085 -0.155348,0.135086 -0.155348,0.351222 0,0.256662 0.2296448,0.405256 0.2296449,0.148593 0.6821803,0.36473 0.3714843,0.17561 0.6281462,0.36473 0.2634161,0.189119 0.4052556,0.445781 0.1418394,0.256662 0.1418394,0.6349 z" />
                                <path d="m 7.9763785,15.490029 0.2934147,-0.138443 0.1841684,1.296449 c 0.00952,0.06143 0.016629,0.126946 0.021333,0.196545 0.00471,0.06659 0.00821,0.13819 0.010498,0.214803 l 0.0054,-0.0025 c 0.00371,-0.07938 0.00862,-0.154867 0.014717,-0.226453 0.00731,-0.07517 0.01522,-0.147652 0.02373,-0.217453 l 0.1850558,-1.471325 0.290719,-0.137171 -0.4239635,2.967695 c -0.037526,0.269536 -0.092225,0.482632 -0.1640636,0.639473 -0.070535,0.159015 -0.1522207,0.259312 -0.2450578,0.301043 -0.029732,0.01336 -0.055886,0.02069 -0.078465,0.02199 -0.021386,0.0037 -0.040391,0.0049 -0.057017,0.0035 l 9.68e-5,-0.523186 c 0.013082,-6e-6 0.028545,-0.0011 0.04639,-0.0033 0.019039,-0.0027 0.038678,-0.0086 0.058919,-0.0178 0.055986,-0.02536 0.1001203,-0.08832 0.1323935,-0.188931 0.033493,-0.09828 0.058072,-0.210391 0.073726,-0.336359 l 0.016267,-0.127834 z"
                                      style="font-weight:bold;fill:#ffffff"
                                      id="path538-2-3"
                                      inkscape:original-d="m 6.5880623,14.753241 h 1.1009444 l 0.6956888,2.073558 q 0.054034,0.148593 0.081051,0.310696 0.027017,0.155348 0.040526,0.330958 h 0.020263 q 0.020263,-0.17561 0.054034,-0.330958 0.040526,-0.162103 0.087805,-0.310696 l 0.6821803,-2.073558 h 1.0806812 l -1.5602337,4.160624 q -0.2093821,0.574112 -0.6146377,0.857791 -0.3985013,0.290433 -0.9253336,0.290433 -0.1688565,0 -0.2971874,-0.02026 -0.1215767,-0.01351 -0.2161364,-0.03377 v -0.797003 q 0.074297,0.01351 0.1756108,0.02702 0.1080682,0.01351 0.2228906,0.01351 0.3174502,0 0.4998152,-0.195874 0.1891193,-0.189119 0.2769247,-0.459289 l 0.060788,-0.182365 z" />
                                <path d="m 9.8366168,16.356172 c -0.00126,0.250537 -0.038184,0.459965 -0.1106924,0.628329 -0.071161,0.164529 -0.1771285,0.27881 -0.3177995,0.342955 -0.069032,0.03148 -0.1282843,0.04653 -0.1777846,0.04519 -0.049485,0.0016 -0.098899,-0.01167 -0.1482455,-0.03995 l 0.00166,-0.553086 c 0.053021,0.03556 0.1103308,0.05868 0.1719419,0.06935 0.061646,0.01067 0.1161251,0.0052 0.1634322,-0.01656 0.053406,-0.02452 0.091135,-0.06136 0.1131697,-0.110523 0.023261,-0.04975 0.035031,-0.106264 0.035303,-0.16953 1.813e-4,-0.04219 -0.00452,-0.07763 -0.014112,-0.106301 -0.00837,-0.02924 -0.027678,-0.05795 -0.057905,-0.08612 -0.030223,-0.02817 -0.077407,-0.06054 -0.1415335,-0.09708 -0.06167,-0.03765 -0.1124022,-0.07884 -0.1522117,-0.123573 -0.039794,-0.04774 -0.069242,-0.112324 -0.088354,-0.19377 -0.019107,-0.08448 -0.028455,-0.196152 -0.028039,-0.33507 6.878e-4,-0.229745 0.037026,-0.419087 0.1090962,-0.567983 0.07218,-0.149123 0.1680291,-0.251963 0.2876002,-0.308415 0.062297,-0.02941 0.1215191,-0.04218 0.1776526,-0.0383 0.056164,0.0039 0.1141012,0.02672 0.173805,0.06849 l -0.085025,0.526925 c -0.048662,-0.02873 -0.094906,-0.04949 -0.1387306,-0.06227 -0.043795,-0.01582 -0.08826,-0.01314 -0.1333882,0.008 -0.080435,0.03772 -0.1208239,0.111106 -0.121229,0.220135 -1.462e-4,0.03935 0.00459,0.0734 0.014194,0.102144 0.010838,0.02514 0.030791,0.04905 0.059863,0.07173 0.030295,0.02211 0.074556,0.04981 0.1327959,0.08308 0.057057,0.03083 0.1061926,0.06839 0.1473938,0.11268 0.041223,0.04127 0.072602,0.103721 0.094127,0.187342 0.022756,0.08001 0.033761,0.194091 0.033018,0.342157 z"
                                      style="font-weight:bold;fill:#ffffff"
                                      id="path540-0-6"
                                      inkscape:original-d="m 13.531443,17.346877 q 0,0.560603 -0.398501,0.864545 -0.391747,0.297187 -1.175241,0.297187 -0.384993,0 -0.661918,-0.05403 -0.276924,-0.04728 -0.553849,-0.162102 v -0.830774 q 0.297187,0.135085 0.641655,0.222891 0.344467,0.0878 0.607883,0.0878 0.297187,0 0.418764,-0.0878 0.128331,-0.08781 0.128331,-0.229645 0,-0.09456 -0.05403,-0.168857 -0.04728,-0.0743 -0.216136,-0.168856 -0.168857,-0.09456 -0.526833,-0.243154 -0.344467,-0.148593 -0.567357,-0.290433 -0.222891,-0.148593 -0.330959,-0.351221 -0.108068,-0.209382 -0.108068,-0.520078 0,-0.513324 0.398501,-0.769986 0.398501,-0.256662 1.060419,-0.256662 0.344467,0 0.655163,0.06754 0.310696,0.06754 0.641655,0.22289 l -0.303942,0.722706 q -0.27017,-0.114822 -0.513324,-0.189119 -0.243153,-0.08105 -0.493061,-0.08105 -0.445781,0 -0.445781,0.243153 0,0.0878 0.05403,0.162102 0.06079,0.06754 0.222891,0.148594 0.168856,0.08105 0.493061,0.216136 0.31745,0.128331 0.547095,0.270171 0.229645,0.135085 0.351221,0.344467 0.128331,0.202628 0.128331,0.533587 z" />
                                <path d="m 10.572801,16.751145 -0.278023,0.126854 0.01678,-2.682078 -0.3583765,0.169526 0.00307,-0.578206 1.001271,-0.477269 -0.0046,0.582578 -0.361261,0.170891 z"
                                      style="font-weight:bold;fill:#ffffff"
                                      id="path542-2-1"
                                      inkscape:original-d="m 16.253408,18.441067 h -1.019893 v -3.971505 h -1.310326 v -0.851037 h 3.640546 v 0.851037 h -1.310327 z" />
                                <path d="m 11.425105,13.816716 c 0.1415,-0.0668 0.252757,-0.01934 0.33358,0.142486 0.08085,0.15873 0.119359,0.421676 0.11553,0.788302 l -0.0035,0.332114 -0.658994,0.305098 c 8.12e-4,0.191366 0.02248,0.3319 0.06499,0.421745 0.04376,0.08927 0.104797,0.11592 0.183182,0.07993 0.066,-0.0303 0.125973,-0.07305 0.179905,-0.128254 0.05401,-0.05831 0.110106,-0.134372 0.168308,-0.22822 l -0.0054,0.527813 c -0.05057,0.08391 -0.104035,0.152375 -0.160405,0.205431 -0.05511,0.05549 -0.121842,0.10109 -0.200182,0.136812 -0.101852,0.04644 -0.191394,0.04185 -0.268695,-0.01371 -0.07724,-0.05858 -0.137347,-0.171912 -0.180365,-0.340082 -0.04304,-0.168246 -0.06343,-0.395631 -0.06115,-0.682429 0.0023,-0.293356 0.02412,-0.545919 0.06541,-0.757587 0.04263,-0.215645 0.100474,-0.389758 0.173571,-0.522227 0.0732,-0.132658 0.157937,-0.221766 0.254216,-0.267221 z m -0.0026,0.489172 c -0.05371,0.02519 -0.09903,0.08933 -0.135975,0.192353 -0.03566,0.102345 -0.05738,0.245468 -0.06518,0.429293 l 0.39114,-0.182192 c 2.39e-4,-0.153169 -0.0148,-0.271737 -0.04512,-0.35562 -0.03031,-0.08697 -0.07861,-0.114911 -0.144856,-0.08383 z"
                                      style="font-weight:bold;fill:#ffffff"
                                      id="path544-3-2"
                                      inkscape:original-d="m 19.272568,14.685698 q 0.763231,0 1.209012,0.439027 0.445781,0.432273 0.445781,1.23603 v 0.486306 h -2.377499 q 0.01351,0.425519 0.249907,0.668672 0.243154,0.243153 0.668672,0.243153 0.357976,0 0.648409,-0.06754 0.290433,-0.0743 0.601129,-0.222891 v 0.77674 q -0.27017,0.135085 -0.574112,0.195874 -0.297187,0.06754 -0.722706,0.06754 -0.553849,0 -0.979367,-0.202627 -0.425519,-0.209383 -0.668672,-0.628147 -0.243154,-0.418764 -0.243154,-1.053664 0,-0.648409 0.216137,-1.073928 0.22289,-0.432272 0.614637,-0.648409 0.391748,-0.216136 0.911826,-0.216136 z m 0.0068,0.715952 q -0.290433,0 -0.486307,0.189119 -0.189119,0.189119 -0.22289,0.587621 h 1.41164 q -0.0068,-0.337713 -0.175611,-0.55385 -0.168856,-0.22289 -0.526832,-0.22289 z" />
                                <path d="m 13.337414,12.913874 c 0.119228,-0.05629 0.207969,-0.02348 0.266089,0.09848 0.05945,0.118219 0.08667,0.341652 0.08166,0.669869 l -0.02531,1.660378 -0.285041,0.130057 0.02149,-1.483993 c 0.0053,-0.367774 -0.04448,-0.527336 -0.14933,-0.478192 -0.07536,0.03532 -0.129856,0.125873 -0.163522,0.271564 -0.03363,0.145533 -0.05209,0.340961 -0.05541,0.586163 l -0.01717,1.270511 -0.282777,0.129023 0.01885,-1.476897 c 0.0047,-0.366009 -0.04505,-0.524882 -0.149059,-0.476131 -0.07855,0.03682 -0.133866,0.135198 -0.165962,0.295024 -0.03076,0.155959 -0.04771,0.368341 -0.05088,0.636987 l -0.01399,1.185753 -0.280538,0.128002 0.02788,-2.522906 0.216044,-0.101937 0.03414,0.308061 0.01517,-0.0071 c 0.03317,-0.145226 0.07735,-0.260243 0.132556,-0.344997 0.05653,-0.08544 0.11465,-0.142274 0.174358,-0.170463 0.07629,-0.03602 0.140784,-0.03547 0.19345,0.0017 0.05272,0.03403 0.09226,0.108374 0.118593,0.222994 l 0.02486,-0.01168 c 0.03365,-0.145969 0.07899,-0.261904 0.136009,-0.34775 0.05836,-0.08654 0.11764,-0.144038 0.177828,-0.172455 z"
                                      style="font-weight:bold;fill:#ffffff"
                                      id="path546-7-9"
                                      inkscape:original-d="m 26.074106,14.685698 q 0.628146,0 0.945596,0.324205 0.324205,0.31745 0.324205,1.026647 v 2.404517 h -1.006385 v -2.154609 q 0,-0.797003 -0.553849,-0.797003 -0.398502,0 -0.567358,0.283679 -0.168857,0.283679 -0.168857,0.817265 v 1.850668 h -1.006385 v -2.154609 q 0,-0.797003 -0.553849,-0.797003 -0.418764,0 -0.580866,0.31745 -0.155348,0.310696 -0.155348,0.898317 v 1.735845 h -1.006385 v -3.687826 h 0.769986 l 0.135085,0.472798 h 0.05403 q 0.168856,-0.283679 0.45929,-0.41201 0.297187,-0.128331 0.614637,-0.128331 0.405256,0 0.688935,0.135085 0.283679,0.128331 0.432272,0.405256 h 0.08781 q 0.168856,-0.283679 0.466044,-0.41201 0.303942,-0.128331 0.621392,-0.128331 z" />
                            </g>
                        </g>
                    </g>
                    <script id="mesh_polyfill-3"
                            type="text/javascript">
                        !function () {
                            const t =& quot; http://www.w3.org/2000/svg&quot;,e=&quot;http://www.w3.org/1999/xlink&quot;,s=&quot;http://www.w3.org/1999/xhtml&quot;,r=2;if(document.createElementNS(t,&quot;meshgradient&quot;).x)return;const n=(t,e,s,r)=&gt;{let n=new x(.5*(e.x+s.x),.5*(e.y+s.y)),o=new x(.5*(t.x+e.x),.5*(t.y+e.y)),i=new x(.5*(s.x+r.x),.5*(s.y+r.y)),a=new x(.5*(n.x+o.x),.5*(n.y+o.y)),h=new x(.5*(n.x+i.x),.5*(n.y+i.y)),l=new x(.5*(a.x+h.x),.5*(a.y+h.y));return[[t,o,a,l],[l,h,i,r]]},o=t=&gt;{let e=t[0].distSquared(t[1]),s=t[2].distSquared(t[3]),r=.25*t[0].distSquared(t[2]),n=.25*t[1].distSquared(t[3]),o=e&gt;s?e:s,i=r&gt;n?r:n;return 18*(o&gt;i?o:i)},i=(t,e)=&gt;Math.sqrt(t.distSquared(e)),a=(t,e)=&gt;t.scale(2/3).add(e.scale(1/3)),h=t=&gt;{let e,s,r,n,o,i,a,h=new g;return t.match(/(\w+\(\s*[^)]+\))+/g).forEach(t=&gt;{let l=t.match(/[\w.-]+/g),d=l.shift();switch(d){case&quot;translate&quot;:2===l.length?e=new g(1,0,0,1,l[0],l[1]):(console.error(&quot;mesh.js: translate does not have 2 arguments!&quot;),e=new g(1,0,0,1,0,0)),h=h.append(e);break;case&quot;scale&quot;:1===l.length?s=new g(l[0],0,0,l[0],0,0):2===l.length?s=new g(l[0],0,0,l[1],0,0):(console.error(&quot;mesh.js: scale does not have 1 or 2 arguments!&quot;),s=new g(1,0,0,1,0,0)),h=h.append(s);break;case&quot;rotate&quot;:if(3===l.length&amp;&amp;(e=new g(1,0,0,1,l[1],l[2]),h=h.append(e)),l[0]){r=l[0]*Math.PI/180;let t=Math.cos(r),e=Math.sin(r);Math.abs(t)&lt;1e-16&amp;&amp;(t=0),Math.abs(e)&lt;1e-16&amp;&amp;(e=0),a=new g(t,e,-e,t,0,0),h=h.append(a)}else console.error(&quot;math.js: No argument to rotate transform!&quot;);3===l.length&amp;&amp;(e=new g(1,0,0,1,-l[1],-l[2]),h=h.append(e));break;case&quot;skewX&quot;:l[0]?(r=l[0]*Math.PI/180,n=Math.tan(r),o=new g(1,0,n,1,0,0),h=h.append(o)):console.error(&quot;math.js: No argument to skewX transform!&quot;);break;case&quot;skewY&quot;:l[0]?(r=l[0]*Math.PI/180,n=Math.tan(r),i=new g(1,n,0,1,0,0),h=h.append(i)):console.error(&quot;math.js: No argument to skewY transform!&quot;);break;case&quot;matrix&quot;:6===l.length?h=h.append(new g(...l)):console.error(&quot;math.js: Incorrect number of arguments for matrix!&quot;);break;default:console.error(&quot;mesh.js: Unhandled transform type: &quot;+d)}}),h},l=t=&gt;{let e=[],s=t.split(/[ ,]+/);for(let t=0,r=s.length-1;t&lt;r;t+=2)e.push(new x(parseFloat(s[t]),parseFloat(s[t+1])));return e},d=(t,e)=&gt;{for(let s in e)t.setAttribute(s,e[s])},c=(t,e,s,r,n)=&gt;{let o,i,a=[0,0,0,0];for(let h=0;h&lt;3;++h)e[h]&lt;t[h]&amp;&amp;e[h]&lt;s[h]||t[h]&lt;e[h]&amp;&amp;s[h]&lt;e[h]?a[h]=0:(a[h]=.5*((e[h]-t[h])/r+(s[h]-e[h])/n),o=Math.abs(3*(e[h]-t[h])/r),i=Math.abs(3*(s[h]-e[h])/n),a[h]&gt;o?a[h]=o:a[h]&gt;i&amp;&amp;(a[h]=i));return a},u=[[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[-3,3,0,0,-2,-1,0,0,0,0,0,0,0,0,0,0],[2,-2,0,0,1,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,-3,3,0,0,-2,-1,0,0],[0,0,0,0,0,0,0,0,2,-2,0,0,1,1,0,0],[-3,0,3,0,0,0,0,0,-2,0,-1,0,0,0,0,0],[0,0,0,0,-3,0,3,0,0,0,0,0,-2,0,-1,0],[9,-9,-9,9,6,3,-6,-3,6,-6,3,-3,4,2,2,1],[-6,6,6,-6,-3,-3,3,3,-4,4,-2,2,-2,-2,-1,-1],[2,0,-2,0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,2,0,-2,0,0,0,0,0,1,0,1,0],[-6,6,6,-6,-4,-2,4,2,-3,3,-3,3,-2,-1,-2,-1],[4,-4,-4,4,2,2,-2,-2,2,-2,2,-2,1,1,1,1]],f=t=&gt;{let e=[];for(let s=0;s&lt;16;++s){e[s]=0;for(let r=0;r&lt;16;++r)e[s]+=u[s][r]*t[r]}return e},p=(t,e,s)=&gt;{const r=e*e,n=s*s,o=e*e*e,i=s*s*s;return t[0]+t[1]*e+t[2]*r+t[3]*o+t[4]*s+t[5]*s*e+t[6]*s*r+t[7]*s*o+t[8]*n+t[9]*n*e+t[10]*n*r+t[11]*n*o+t[12]*i+t[13]*i*e+t[14]*i*r+t[15]*i*o},y=t=&gt;{let e=[],s=[],r=[];for(let s=0;s&lt;4;++s)e[s]=[],e[s][0]=n(t[0][s],t[1][s],t[2][s],t[3][s]),e[s][1]=[],e[s][1].push(...n(...e[s][0][0])),e[s][1].push(...n(...e[s][0][1])),e[s][2]=[],e[s][2].push(...n(...e[s][1][0])),e[s][2].push(...n(...e[s][1][1])),e[s][2].push(...n(...e[s][1][2])),e[s][2].push(...n(...e[s][1][3]));for(let t=0;t&lt;8;++t){s[t]=[];for(let r=0;r&lt;4;++r)s[t][r]=[],s[t][r][0]=n(e[0][2][t][r],e[1][2][t][r],e[2][2][t][r],e[3][2][t][r]),s[t][r][1]=[],s[t][r][1].push(...n(...s[t][r][0][0])),s[t][r][1].push(...n(...s[t][r][0][1])),s[t][r][2]=[],s[t][r][2].push(...n(...s[t][r][1][0])),s[t][r][2].push(...n(...s[t][r][1][1])),s[t][r][2].push(...n(...s[t][r][1][2])),s[t][r][2].push(...n(...s[t][r][1][3]))}for(let t=0;t&lt;8;++t){r[t]=[];for(let e=0;e&lt;8;++e)r[t][e]=[],r[t][e][0]=s[t][0][2][e],r[t][e][1]=s[t][1][2][e],r[t][e][2]=s[t][2][2][e],r[t][e][3]=s[t][3][2][e]}return r};class x{constructor(t,e){this.x=t||0,this.y=e||0}toString(){return`(x=${this.x}, y=${this.y})`}clone(){return new x(this.x,this.y)}add(t){return new x(this.x+t.x,this.y+t.y)}scale(t){return void 0===t.x?new x(this.x*t,this.y*t):new x(this.x*t.x,this.y*t.y)}distSquared(t){let e=this.x-t.x,s=this.y-t.y;return e*e+s*s}transform(t){let e=this.x*t.a+this.y*t.c+t.e,s=this.x*t.b+this.y*t.d+t.f;return new x(e,s)}}class g{constructor(t,e,s,r,n,o){void 0===t?(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0):(this.a=t,this.b=e,this.c=s,this.d=r,this.e=n,this.f=o)}toString(){return`affine: ${this.a} ${this.c} ${this.e} \n ${this.b} ${this.d} ${this.f}`}append(t){t instanceof g||console.error(&quot;mesh.js: argument to Affine.append is not affine!&quot;);let e=this.a*t.a+this.c*t.b,s=this.b*t.a+this.d*t.b,r=this.a*t.c+this.c*t.d,n=this.b*t.c+this.d*t.d,o=this.a*t.e+this.c*t.f+this.e,i=this.b*t.e+this.d*t.f+this.f;return new g(e,s,r,n,o,i)}}class w{constructor(t,e){this.nodes=t,this.colors=e}paintCurve(t,e){if(o(this.nodes)&gt;r){const s=n(...this.nodes);let r=[[],[]],o=[[],[]];for(let t=0;t&lt;4;++t)r[0][t]=this.colors[0][t],r[1][t]=(this.colors[0][t]+this.colors[1][t])/2,o[0][t]=r[1][t],o[1][t]=this.colors[1][t];let i=new w(s[0],r),a=new w(s[1],o);i.paintCurve(t,e),a.paintCurve(t,e)}else{let s=Math.round(this.nodes[0].x);if(s&gt;=0&amp;&amp;s&lt;e){let r=4*(~~this.nodes[0].y*e+s);t[r]=Math.round(this.colors[0][0]),t[r+1]=Math.round(this.colors[0][1]),t[r+2]=Math.round(this.colors[0][2]),t[r+3]=Math.round(this.colors[0][3])}}}}class m{constructor(t,e){this.nodes=t,this.colors=e}split(){let t=[[],[],[],[]],e=[[],[],[],[]],s=[[[],[]],[[],[]]],r=[[[],[]],[[],[]]];for(let s=0;s&lt;4;++s){const r=n(this.nodes[0][s],this.nodes[1][s],this.nodes[2][s],this.nodes[3][s]);t[0][s]=r[0][0],t[1][s]=r[0][1],t[2][s]=r[0][2],t[3][s]=r[0][3],e[0][s]=r[1][0],e[1][s]=r[1][1],e[2][s]=r[1][2],e[3][s]=r[1][3]}for(let t=0;t&lt;4;++t)s[0][0][t]=this.colors[0][0][t],s[0][1][t]=this.colors[0][1][t],s[1][0][t]=(this.colors[0][0][t]+this.colors[1][0][t])/2,s[1][1][t]=(this.colors[0][1][t]+this.colors[1][1][t])/2,r[0][0][t]=s[1][0][t],r[0][1][t]=s[1][1][t],r[1][0][t]=this.colors[1][0][t],r[1][1][t]=this.colors[1][1][t];return[new m(t,s),new m(e,r)]}paint(t,e){let s,n=!1;for(let t=0;t&lt;4;++t)if((s=o([this.nodes[0][t],this.nodes[1][t],this.nodes[2][t],this.nodes[3][t]]))&gt;r){n=!0;break}if(n){let s=this.split();s[0].paint(t,e),s[1].paint(t,e)}else{new w([...this.nodes[0]],[...this.colors[0]]).paintCurve(t,e)}}}class b{constructor(t){this.readMesh(t),this.type=t.getAttribute(&quot;type&quot;)||&quot;bilinear&quot;}readMesh(t){let e=[[]],s=[[]],r=Number(t.getAttribute(&quot;x&quot;)),n=Number(t.getAttribute(&quot;y&quot;));e[0][0]=new x(r,n);let o=t.children;for(let t=0,r=o.length;t&lt;r;++t){e[3*t+1]=[],e[3*t+2]=[],e[3*t+3]=[],s[t+1]=[];let r=o[t].children;for(let n=0,o=r.length;n&lt;o;++n){let o=r[n].children;for(let r=0,i=o.length;r&lt;i;++r){let i=r;0!==t&amp;&amp;++i;let h,d=o[r].getAttribute(&quot;path&quot;),c=&quot;l&quot;;null!=d&amp;&amp;(c=(h=d.match(/\s*([lLcC])\s*(.*)/))[1]);let u=l(h[2]);switch(c){case&quot;l&quot;:0===i?(e[3*t][3*n+3]=u[0].add(e[3*t][3*n]),e[3*t][3*n+1]=a(e[3*t][3*n],e[3*t][3*n+3]),e[3*t][3*n+2]=a(e[3*t][3*n+3],e[3*t][3*n])):1===i?(e[3*t+3][3*n+3]=u[0].add(e[3*t][3*n+3]),e[3*t+1][3*n+3]=a(e[3*t][3*n+3],e[3*t+3][3*n+3]),e[3*t+2][3*n+3]=a(e[3*t+3][3*n+3],e[3*t][3*n+3])):2===i?(0===n&amp;&amp;(e[3*t+3][3*n+0]=u[0].add(e[3*t+3][3*n+3])),e[3*t+3][3*n+1]=a(e[3*t+3][3*n],e[3*t+3][3*n+3]),e[3*t+3][3*n+2]=a(e[3*t+3][3*n+3],e[3*t+3][3*n])):(e[3*t+1][3*n]=a(e[3*t][3*n],e[3*t+3][3*n]),e[3*t+2][3*n]=a(e[3*t+3][3*n],e[3*t][3*n]));break;case&quot;L&quot;:0===i?(e[3*t][3*n+3]=u[0],e[3*t][3*n+1]=a(e[3*t][3*n],e[3*t][3*n+3]),e[3*t][3*n+2]=a(e[3*t][3*n+3],e[3*t][3*n])):1===i?(e[3*t+3][3*n+3]=u[0],e[3*t+1][3*n+3]=a(e[3*t][3*n+3],e[3*t+3][3*n+3]),e[3*t+2][3*n+3]=a(e[3*t+3][3*n+3],e[3*t][3*n+3])):2===i?(0===n&amp;&amp;(e[3*t+3][3*n+0]=u[0]),e[3*t+3][3*n+1]=a(e[3*t+3][3*n],e[3*t+3][3*n+3]),e[3*t+3][3*n+2]=a(e[3*t+3][3*n+3],e[3*t+3][3*n])):(e[3*t+1][3*n]=a(e[3*t][3*n],e[3*t+3][3*n]),e[3*t+2][3*n]=a(e[3*t+3][3*n],e[3*t][3*n]));break;case&quot;c&quot;:0===i?(e[3*t][3*n+1]=u[0].add(e[3*t][3*n]),e[3*t][3*n+2]=u[1].add(e[3*t][3*n]),e[3*t][3*n+3]=u[2].add(e[3*t][3*n])):1===i?(e[3*t+1][3*n+3]=u[0].add(e[3*t][3*n+3]),e[3*t+2][3*n+3]=u[1].add(e[3*t][3*n+3]),e[3*t+3][3*n+3]=u[2].add(e[3*t][3*n+3])):2===i?(e[3*t+3][3*n+2]=u[0].add(e[3*t+3][3*n+3]),e[3*t+3][3*n+1]=u[1].add(e[3*t+3][3*n+3]),0===n&amp;&amp;(e[3*t+3][3*n+0]=u[2].add(e[3*t+3][3*n+3]))):(e[3*t+2][3*n]=u[0].add(e[3*t+3][3*n]),e[3*t+1][3*n]=u[1].add(e[3*t+3][3*n]));break;case&quot;C&quot;:0===i?(e[3*t][3*n+1]=u[0],e[3*t][3*n+2]=u[1],e[3*t][3*n+3]=u[2]):1===i?(e[3*t+1][3*n+3]=u[0],e[3*t+2][3*n+3]=u[1],e[3*t+3][3*n+3]=u[2]):2===i?(e[3*t+3][3*n+2]=u[0],e[3*t+3][3*n+1]=u[1],0===n&amp;&amp;(e[3*t+3][3*n+0]=u[2])):(e[3*t+2][3*n]=u[0],e[3*t+1][3*n]=u[1]);break;default:console.error(&quot;mesh.js: &quot;+c+&quot; invalid path type.&quot;)}if(0===t&amp;&amp;0===n||r&gt;0){let e=window.getComputedStyle(o[r]).stopColor.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),a=window.getComputedStyle(o[r]).stopOpacity,h=255;a&amp;&amp;(h=Math.floor(255*a)),e&amp;&amp;(0===i?(s[t][n]=[],s[t][n][0]=Math.floor(e[1]),s[t][n][1]=Math.floor(e[2]),s[t][n][2]=Math.floor(e[3]),s[t][n][3]=h):1===i?(s[t][n+1]=[],s[t][n+1][0]=Math.floor(e[1]),s[t][n+1][1]=Math.floor(e[2]),s[t][n+1][2]=Math.floor(e[3]),s[t][n+1][3]=h):2===i?(s[t+1][n+1]=[],s[t+1][n+1][0]=Math.floor(e[1]),s[t+1][n+1][1]=Math.floor(e[2]),s[t+1][n+1][2]=Math.floor(e[3]),s[t+1][n+1][3]=h):3===i&amp;&amp;(s[t+1][n]=[],s[t+1][n][0]=Math.floor(e[1]),s[t+1][n][1]=Math.floor(e[2]),s[t+1][n][2]=Math.floor(e[3]),s[t+1][n][3]=h))}}e[3*t+1][3*n+1]=new x,e[3*t+1][3*n+2]=new x,e[3*t+2][3*n+1]=new x,e[3*t+2][3*n+2]=new x,e[3*t+1][3*n+1].x=(-4*e[3*t][3*n].x+6*(e[3*t][3*n+1].x+e[3*t+1][3*n].x)+-2*(e[3*t][3*n+3].x+e[3*t+3][3*n].x)+3*(e[3*t+3][3*n+1].x+e[3*t+1][3*n+3].x)+-1*e[3*t+3][3*n+3].x)/9,e[3*t+1][3*n+2].x=(-4*e[3*t][3*n+3].x+6*(e[3*t][3*n+2].x+e[3*t+1][3*n+3].x)+-2*(e[3*t][3*n].x+e[3*t+3][3*n+3].x)+3*(e[3*t+3][3*n+2].x+e[3*t+1][3*n].x)+-1*e[3*t+3][3*n].x)/9,e[3*t+2][3*n+1].x=(-4*e[3*t+3][3*n].x+6*(e[3*t+3][3*n+1].x+e[3*t+2][3*n].x)+-2*(e[3*t+3][3*n+3].x+e[3*t][3*n].x)+3*(e[3*t][3*n+1].x+e[3*t+2][3*n+3].x)+-1*e[3*t][3*n+3].x)/9,e[3*t+2][3*n+2].x=(-4*e[3*t+3][3*n+3].x+6*(e[3*t+3][3*n+2].x+e[3*t+2][3*n+3].x)+-2*(e[3*t+3][3*n].x+e[3*t][3*n+3].x)+3*(e[3*t][3*n+2].x+e[3*t+2][3*n].x)+-1*e[3*t][3*n].x)/9,e[3*t+1][3*n+1].y=(-4*e[3*t][3*n].y+6*(e[3*t][3*n+1].y+e[3*t+1][3*n].y)+-2*(e[3*t][3*n+3].y+e[3*t+3][3*n].y)+3*(e[3*t+3][3*n+1].y+e[3*t+1][3*n+3].y)+-1*e[3*t+3][3*n+3].y)/9,e[3*t+1][3*n+2].y=(-4*e[3*t][3*n+3].y+6*(e[3*t][3*n+2].y+e[3*t+1][3*n+3].y)+-2*(e[3*t][3*n].y+e[3*t+3][3*n+3].y)+3*(e[3*t+3][3*n+2].y+e[3*t+1][3*n].y)+-1*e[3*t+3][3*n].y)/9,e[3*t+2][3*n+1].y=(-4*e[3*t+3][3*n].y+6*(e[3*t+3][3*n+1].y+e[3*t+2][3*n].y)+-2*(e[3*t+3][3*n+3].y+e[3*t][3*n].y)+3*(e[3*t][3*n+1].y+e[3*t+2][3*n+3].y)+-1*e[3*t][3*n+3].y)/9,e[3*t+2][3*n+2].y=(-4*e[3*t+3][3*n+3].y+6*(e[3*t+3][3*n+2].y+e[3*t+2][3*n+3].y)+-2*(e[3*t+3][3*n].y+e[3*t][3*n+3].y)+3*(e[3*t][3*n+2].y+e[3*t+2][3*n].y)+-1*e[3*t][3*n].y)/9}}this.nodes=e,this.colors=s}paintMesh(t,e){let s=(this.nodes.length-1)/3,r=(this.nodes[0].length-1)/3;if(&quot;bilinear&quot;===this.type||s&lt;2||r&lt;2){let n;for(let o=0;o&lt;s;++o)for(let s=0;s&lt;r;++s){let r=[];for(let t=3*o,e=3*o+4;t&lt;e;++t)r.push(this.nodes[t].slice(3*s,3*s+4));let i=[];i.push(this.colors[o].slice(s,s+2)),i.push(this.colors[o+1].slice(s,s+2)),(n=new m(r,i)).paint(t,e)}}else{let n,o,a,h,l,d,u;const x=s,g=r;s++,r++;let w=new Array(s);for(let t=0;t&lt;s;++t){w[t]=new Array(r);for(let e=0;e&lt;r;++e)w[t][e]=[],w[t][e][0]=this.nodes[3*t][3*e],w[t][e][1]=this.colors[t][e]}for(let t=0;t&lt;s;++t)for(let e=0;e&lt;r;++e)0!==t&amp;&amp;t!==x&amp;&amp;(n=i(w[t-1][e][0],w[t][e][0]),o=i(w[t+1][e][0],w[t][e][0]),w[t][e][2]=c(w[t-1][e][1],w[t][e][1],w[t+1][e][1],n,o)),0!==e&amp;&amp;e!==g&amp;&amp;(n=i(w[t][e-1][0],w[t][e][0]),o=i(w[t][e+1][0],w[t][e][0]),w[t][e][3]=c(w[t][e-1][1],w[t][e][1],w[t][e+1][1],n,o));for(let t=0;t&lt;r;++t){w[0][t][2]=[],w[x][t][2]=[];for(let e=0;e&lt;4;++e)n=i(w[1][t][0],w[0][t][0]),o=i(w[x][t][0],w[x-1][t][0]),w[0][t][2][e]=n&gt;0?2*(w[1][t][1][e]-w[0][t][1][e])/n-w[1][t][2][e]:0,w[x][t][2][e]=o&gt;0?2*(w[x][t][1][e]-w[x-1][t][1][e])/o-w[x-1][t][2][e]:0}for(let t=0;t&lt;s;++t){w[t][0][3]=[],w[t][g][3]=[];for(let e=0;e&lt;4;++e)n=i(w[t][1][0],w[t][0][0]),o=i(w[t][g][0],w[t][g-1][0]),w[t][0][3][e]=n&gt;0?2*(w[t][1][1][e]-w[t][0][1][e])/n-w[t][1][3][e]:0,w[t][g][3][e]=o&gt;0?2*(w[t][g][1][e]-w[t][g-1][1][e])/o-w[t][g-1][3][e]:0}for(let s=0;s&lt;x;++s)for(let r=0;r&lt;g;++r){let n=i(w[s][r][0],w[s+1][r][0]),o=i(w[s][r+1][0],w[s+1][r+1][0]),c=i(w[s][r][0],w[s][r+1][0]),x=i(w[s+1][r][0],w[s+1][r+1][0]),g=[[],[],[],[]];for(let t=0;t&lt;4;++t){(d=[])[0]=w[s][r][1][t],d[1]=w[s+1][r][1][t],d[2]=w[s][r+1][1][t],d[3]=w[s+1][r+1][1][t],d[4]=w[s][r][2][t]*n,d[5]=w[s+1][r][2][t]*n,d[6]=w[s][r+1][2][t]*o,d[7]=w[s+1][r+1][2][t]*o,d[8]=w[s][r][3][t]*c,d[9]=w[s+1][r][3][t]*x,d[10]=w[s][r+1][3][t]*c,d[11]=w[s+1][r+1][3][t]*x,d[12]=0,d[13]=0,d[14]=0,d[15]=0,u=f(d);for(let e=0;e&lt;9;++e){g[t][e]=[];for(let s=0;s&lt;9;++s)g[t][e][s]=p(u,e/8,s/8),g[t][e][s]&gt;255?g[t][e][s]=255:g[t][e][s]&lt;0&amp;&amp;(g[t][e][s]=0)}}h=[];for(let t=3*s,e=3*s+4;t&lt;e;++t)h.push(this.nodes[t].slice(3*r,3*r+4));l=y(h);for(let s=0;s&lt;8;++s)for(let r=0;r&lt;8;++r)(a=new m(l[s][r],[[[g[0][s][r],g[1][s][r],g[2][s][r],g[3][s][r]],[g[0][s][r+1],g[1][s][r+1],g[2][s][r+1],g[3][s][r+1]]],[[g[0][s+1][r],g[1][s+1][r],g[2][s+1][r],g[3][s+1][r]],[g[0][s+1][r+1],g[1][s+1][r+1],g[2][s+1][r+1],g[3][s+1][r+1]]]])).paint(t,e)}}}transform(t){if(t instanceof x)for(let e=0,s=this.nodes.length;e&lt;s;++e)for(let s=0,r=this.nodes[0].length;s&lt;r;++s)this.nodes[e][s]=this.nodes[e][s].add(t);else if(t instanceof g)for(let e=0,s=this.nodes.length;e&lt;s;++e)for(let s=0,r=this.nodes[0].length;s&lt;r;++s)this.nodes[e][s]=this.nodes[e][s].transform(t)}scale(t){for(let e=0,s=this.nodes.length;e&lt;s;++e)for(let s=0,r=this.nodes[0].length;s&lt;r;++s)this.nodes[e][s]=this.nodes[e][s].scale(t)}}document.querySelectorAll(&quot;rect,circle,ellipse,path,text&quot;).forEach((r,n)=&gt;{let o=r.getAttribute(&quot;id&quot;);o||(o=&quot;patchjs_shape&quot;+n,r.setAttribute(&quot;id&quot;,o));const i=r.style.fill.match(/^url\(\s*&quot;?\s*#([^\s&quot;]+)&quot;?\s*\)/),a=r.style.stroke.match(/^url\(\s*&quot;?\s*#([^\s&quot;]+)&quot;?\s*\)/);if(i&amp;&amp;i[1]){const a=document.getElementById(i[1]);if(a&amp;&amp;&quot;meshgradient&quot;===a.nodeName){const i=r.getBBox();let l=document.createElementNS(s,&quot;canvas&quot;);d(l,{width:i.width,height:i.height});const c=l.getContext(&quot;2d&quot;);let u=c.createImageData(i.width,i.height);const f=new b(a);&quot;objectBoundingBox&quot;===a.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;f.scale(new x(i.width,i.height));const p=a.getAttribute(&quot;gradientTransform&quot;);null!=p&amp;&amp;f.transform(h(p)),&quot;userSpaceOnUse&quot;===a.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;f.transform(new x(-i.x,-i.y)),f.paintMesh(u.data,l.width),c.putImageData(u,0,0);const y=document.createElementNS(t,&quot;image&quot;);d(y,{width:i.width,height:i.height,x:i.x,y:i.y});let g=l.toDataURL();y.setAttributeNS(e,&quot;xlink:href&quot;,g),r.parentNode.insertBefore(y,r),r.style.fill=&quot;none&quot;;const w=document.createElementNS(t,&quot;use&quot;);w.setAttributeNS(e,&quot;xlink:href&quot;,&quot;#&quot;+o);const m=&quot;patchjs_clip&quot;+n,M=document.createElementNS(t,&quot;clipPath&quot;);M.setAttribute(&quot;id&quot;,m),M.appendChild(w),r.parentElement.insertBefore(M,r),y.setAttribute(&quot;clip-path&quot;,&quot;url(#&quot;+m+&quot;)&quot;),u=null,l=null,g=null}}if(a&amp;&amp;a[1]){const o=document.getElementById(a[1]);if(o&amp;&amp;&quot;meshgradient&quot;===o.nodeName){const i=parseFloat(r.style.strokeWidth.slice(0,-2))*(parseFloat(r.style.strokeMiterlimit)||parseFloat(r.getAttribute(&quot;stroke-miterlimit&quot;))||1),a=r.getBBox(),l=Math.trunc(a.width+i),c=Math.trunc(a.height+i),u=Math.trunc(a.x-i/2),f=Math.trunc(a.y-i/2);let p=document.createElementNS(s,&quot;canvas&quot;);d(p,{width:l,height:c});const y=p.getContext(&quot;2d&quot;);let g=y.createImageData(l,c);const w=new b(o);&quot;objectBoundingBox&quot;===o.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;w.scale(new x(l,c));const m=o.getAttribute(&quot;gradientTransform&quot;);null!=m&amp;&amp;w.transform(h(m)),&quot;userSpaceOnUse&quot;===o.getAttribute(&quot;gradientUnits&quot;)&amp;&amp;w.transform(new x(-u,-f)),w.paintMesh(g.data,p.width),y.putImageData(g,0,0);const M=document.createElementNS(t,&quot;image&quot;);d(M,{width:l,height:c,x:0,y:0});let S=p.toDataURL();M.setAttributeNS(e,&quot;xlink:href&quot;,S);const k=&quot;pattern_clip&quot;+n,A=document.createElementNS(t,&quot;pattern&quot;);d(A,{id:k,patternUnits:&quot;userSpaceOnUse&quot;,width:l,height:c,x:u,y:f}),A.appendChild(M),o.parentNode.appendChild(A),r.style.stroke=&quot;url(#&quot;+k+&quot;)&quot;,g=null,p=null,S=null}}})}();
                    </script>
                </svg>
            </span>
            <div class="title-text">BoxSmart ERP</div>
        </div>
        <div class="window-controls">
            <button id="minimize" title="Minimize"></button>
            <button id="maximize" title="Maximize"></button>
            <button id="close" class="close-btn" title="Close"></button>
        </div>
    </div>

    <script>
        // This JavaScript will be executed within the WebView2 control.
        // It's crucial to check if window.chrome.webview exists before attempting to use it,
        // as it will be undefined if the page is opened directly in a browser or outside WebView2.
        if (window.chrome && window.chrome.webview) {
            document.getElementById("minimize").addEventListener("click", function () {
                // window.chrome.webview.postMessage sends a string message to the C# host application.
                // This is the bridge for communication from HTML/JS to C#.
                window.chrome.webview.postMessage("btMinimizeClicked");
            });

            document.getElementById("maximize").addEventListener("click", function () {
                window.chrome.webview.postMessage("btMaximizeClicked");
            });

            document.getElementById("close").addEventListener("click", function () {
                window.chrome.webview.postMessage("btCloseClicked");
            });
        } else {
            // Optional: Provide a console message or fallback behavior if not in WebView2
            console.warn("window.chrome.webview is not available. This page may not function as expected outside a WebView2 environment.");
            // You might disable buttons or hide controls here if you want to prevent errors
            // document.getElementById("minimize").disabled = true;
            // document.getElementById("maximize").disabled = true;
            // document.getElementById("close").disabled = true;
        }
    </script>
</body>
</html>
